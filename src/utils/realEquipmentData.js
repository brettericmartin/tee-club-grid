export const equipmentDatabase = {
  drivers: [
    {
      id: 'tm-qi10-max',
      brand: 'TaylorMade',
      model: 'Qi10 Max',
      category: 'driver',
      year: 2024,
      msrp: 599.99,
      image_url: 'https://images.unsplash.com/photo-1592919505780-303950717480?w=400&h=400&fit=crop'
    },
    {
      id: 'callaway-ai-smoke-max',
      brand: 'Callaway',
      model: 'Paradym Ai Smoke Max',
      category: 'driver',
      year: 2024,
      msrp: 599.99,
      image_url: 'https://images.unsplash.com/photo-1592919505780-303950717480?w=400&h=400&fit=crop'
    },
    {
      id: 'ping-g430-max',
      brand: 'PING',
      model: 'G430 Max 10K',
      category: 'driver',
      year: 2024,
      msrp: 649.99,
      image_url: 'https://images.unsplash.com/photo-1592919505780-303950717480?w=400&h=400&fit=crop'
    },
    {
      id: 'titleist-tsr3',
      brand: 'Titleist',
      model: 'TSR3',
      category: 'driver',
      year: 2024,
      msrp: 599.99,
      image_url: 'https://images.unsplash.com/photo-1592919505780-303950717480?w=400&h=400&fit=crop'
    }
  ],
  mini_drivers: [
    {
      id: 'tm-brnr-mini',
      brand: 'TaylorMade',
      model: 'BRNR Mini',
      category: 'mini_driver',
      year: 2024,
      msrp: 449.99,
      image_url: 'https://images.unsplash.com/photo-1592919505780-303950717480?w=400&h=400&fit=crop'
    },
    {
      id: 'callaway-big-bertha-mini',
      brand: 'Callaway',
      model: 'Big Bertha Mini',
      category: 'mini_driver',
      year: 2024,
      msrp: 399.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw87654321/images/large/big-bertha-mini.jpg'
    },
    {
      id: 'titleist-tsr2-plus',
      brand: 'Titleist',
      model: 'TSR2+',
      category: 'mini_driver',
      year: 2024,
      msrp: 449.99,
      image_url: 'https://www.titleist.com/dw/image/v2/AAZW_PRD/on/demandware.static/-/Sites-titleist-master/default/dw11223344/TSR2_Plus.jpg'
    },
    {
      id: 'tour-edge-e523',
      brand: 'Tour Edge',
      model: 'E523 Mini',
      category: 'mini_driver',
      year: 2024,
      msrp: 299.99,
      image_url: 'https://www.touredge.com/media/catalog/product/e/5/e523-mini-driver.jpg'
    }
  ],
  fairway_woods: [
    {
      id: 'tm-qi10-fairway',
      brand: 'TaylorMade',
      model: 'Qi10 Fairway',
      category: 'fairway_wood',
      year: 2024,
      msrp: 349.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw22334455/images/large/Qi10-Fairway.jpg'
    },
    {
      id: 'callaway-ai-smoke-fairway',
      brand: 'Callaway',
      model: 'Paradym Ai Smoke',
      category: 'fairway_wood',
      year: 2024,
      msrp: 349.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw33445566/images/large/fairways-ai-smoke.jpg'
    },
    {
      id: 'ping-g430-fairway',
      brand: 'PING',
      model: 'G430 Max',
      category: 'fairway_wood',
      year: 2024,
      msrp: 379.99,
      image_url: 'https://pingmediastage.azureedge.net/mediastorage/mediastorage/ping-na/medialibrary/clubs/fairways/g430/g430-max-fairway.png'
    },
    {
      id: 'titleist-tsr3-fairway',
      brand: 'Titleist',
      model: 'TSR3 Fairway',
      category: 'fairway_wood',
      year: 2024,
      msrp: 349.99,
      image_url: 'https://www.titleist.com/dw/image/v2/AAZW_PRD/on/demandware.static/-/Sites-titleist-master/default/dw44556677/TSR3_Fairway.jpg'
    }
  ],
  hybrids: [
    {
      id: 'tm-qi10-hybrid',
      brand: 'TaylorMade',
      model: 'Qi10 Rescue',
      category: 'hybrid',
      year: 2024,
      msrp: 279.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw55667788/images/large/Qi10-Rescue.jpg'
    },
    {
      id: 'callaway-apex-hybrid',
      brand: 'Callaway',
      model: 'Apex 24',
      category: 'hybrid',
      year: 2024,
      msrp: 279.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw66778899/images/large/hybrids-apex-24.jpg'
    },
    {
      id: 'ping-g430-hybrid',
      brand: 'PING',
      model: 'G430 Hybrid',
      category: 'hybrid',
      year: 2024,
      msrp: 299.99,
      image_url: 'https://pingmediastage.azureedge.net/mediastorage/mediastorage/ping-na/medialibrary/clubs/hybrids/g430/g430-hybrid.png'
    },
    {
      id: 'titleist-tsr2-hybrid',
      brand: 'Titleist',
      model: 'TSR2 Hybrid',
      category: 'hybrid',
      year: 2024,
      msrp: 279.99,
      image_url: 'https://www.titleist.com/dw/image/v2/AAZW_PRD/on/demandware.static/-/Sites-titleist-master/default/dw77889900/TSR2_Hybrid.jpg'
    }
  ],
  irons: [
    {
      id: 'titleist-t100',
      brand: 'Titleist',
      model: 'T100',
      category: 'irons',
      year: 2023,
      msrp: 1399.99,
      image_url: 'https://images.unsplash.com/photo-1593111774240-d529f12cf4bb?w=400&h=400&fit=crop'
    },
    {
      id: 'tm-p790',
      brand: 'TaylorMade',
      model: 'P790',
      category: 'irons',
      year: 2024,
      msrp: 1299.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw99001122/images/large/P790-Irons.jpg'
    },
    {
      id: 'callaway-apex-pro',
      brand: 'Callaway',
      model: 'Apex Pro 24',
      category: 'irons',
      year: 2024,
      msrp: 1399.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw00112233/images/large/irons-apex-pro-24.jpg'
    },
    {
      id: 'ping-i230',
      brand: 'PING',
      model: 'i230',
      category: 'irons',
      year: 2024,
      msrp: 1249.99,
      image_url: 'https://pingmediastage.azureedge.net/mediastorage/mediastorage/ping-na/medialibrary/clubs/irons/i230/i230-irons.png'
    }
  ],
  wedges: [
    {
      id: 'vokey-sm10',
      brand: 'Titleist',
      model: 'Vokey SM10',
      category: 'wedges',
      year: 2024,
      msrp: 179.99,
      image_url: 'https://www.titleist.com/dw/image/v2/AAZW_PRD/on/demandware.static/-/Sites-titleist-master/default/dw11223344/SM10_Wedges.jpg'
    },
    {
      id: 'tm-mg4',
      brand: 'TaylorMade',
      model: 'MG4',
      category: 'wedges',
      year: 2024,
      msrp: 179.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw22334455/images/large/MG4-Wedge.jpg'
    },
    {
      id: 'callaway-jaws-raw',
      brand: 'Callaway',
      model: 'JAWS RAW',
      category: 'wedges',
      year: 2024,
      msrp: 169.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw33445566/images/large/wedges-jaws-raw.jpg'
    },
    {
      id: 'cleveland-rtx6',
      brand: 'Cleveland',
      model: 'RTX 6 ZipCore',
      category: 'wedges',
      year: 2024,
      msrp: 169.99,
      image_url: 'https://www.clevelandgolf.com/dw/image/v2/AADH_PRD/on/demandware.static/-/Sites-master-catalog/default/dw44556677/RTX6-Wedge.jpg'
    }
  ],
  putters: [
    {
      id: 'scotty-phantom-x5',
      brand: 'Scotty Cameron',
      model: 'Phantom X 5',
      category: 'putter',
      year: 2024,
      msrp: 429.99,
      image_url: 'https://images.unsplash.com/photo-1593111774642-a746f5006b7b?w=400&h=400&fit=crop'
    },
    {
      id: 'odyssey-white-hot',
      brand: 'Odyssey',
      model: 'White Hot OG #7',
      category: 'putter',
      year: 2024,
      msrp: 249.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw66778899/images/large/putters-white-hot-og.jpg'
    },
    {
      id: 'tm-spider-tour',
      brand: 'TaylorMade',
      model: 'Spider Tour X',
      category: 'putter',
      year: 2024,
      msrp: 349.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw77889900/images/large/Spider-Tour-X.jpg'
    },
    {
      id: 'ping-pld-anser',
      brand: 'PING',
      model: 'PLD Anser',
      category: 'putter',
      year: 2024,
      msrp: 389.99,
      image_url: 'https://pingmediastage.azureedge.net/mediastorage/mediastorage/ping-na/medialibrary/clubs/putters/pld/pld-anser.png'
    }
  ],
  balls: [
    {
      id: 'titleist-prov1',
      brand: 'Titleist',
      model: 'Pro V1',
      category: 'balls',
      year: 2023,
      msrp: 54.99,
      image_url: 'https://images.unsplash.com/photo-1654130277816-4b98d3ce5b59?w=400&h=400&fit=crop'
    },
    {
      id: 'tm-tp5',
      brand: 'TaylorMade',
      model: 'TP5',
      category: 'balls',
      year: 2024,
      msrp: 49.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw99001122/images/large/TP5-Ball.jpg'
    },
    {
      id: 'callaway-chrome-soft',
      brand: 'Callaway',
      model: 'Chrome Soft',
      category: 'balls',
      year: 2024,
      msrp: 49.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw00112233/images/large/balls-chrome-soft.jpg'
    },
    {
      id: 'bridgestone-tour-bx',
      brand: 'Bridgestone',
      model: 'Tour B X',
      category: 'balls',
      year: 2024,
      msrp: 47.99,
      image_url: 'https://www.bridgestonegolf.com/dw/image/v2/AALH_PRD/on/demandware.static/-/Sites-master-catalog/default/dw11223344/Tour-B-X.jpg'
    }
  ],
  gloves: [
    {
      id: 'footjoy-stasof',
      brand: 'FootJoy',
      model: 'StaSof',
      category: 'glove',
      year: 2024,
      msrp: 29.99,
      image_url: 'https://www.footjoy.com/dw/image/v2/AADL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw22334455/StaSof-Glove.jpg'
    },
    {
      id: 'titleist-players',
      brand: 'Titleist',
      model: 'Players Glove',
      category: 'glove',
      year: 2024,
      msrp: 24.99,
      image_url: 'https://www.titleist.com/dw/image/v2/AAZW_PRD/on/demandware.static/-/Sites-titleist-master/default/dw33445566/Players_Glove.jpg'
    },
    {
      id: 'tm-tour-preferred',
      brand: 'TaylorMade',
      model: 'Tour Preferred',
      category: 'glove',
      year: 2024,
      msrp: 26.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw44556677/images/large/Tour-Preferred-Glove.jpg'
    },
    {
      id: 'callaway-tour-authentic',
      brand: 'Callaway',
      model: 'Tour Authentic',
      category: 'glove',
      year: 2024,
      msrp: 25.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw55667788/images/large/gloves-tour-authentic.jpg'
    }
  ],
  bags: [
    {
      id: 'titleist-players-4',
      brand: 'Titleist',
      model: 'Players 4 StaDry',
      category: 'bag',
      year: 2024,
      msrp: 249.99,
      image_url: 'https://images.unsplash.com/photo-1593095948071-474c5cc2989d?w=400&h=400&fit=crop'
    },
    {
      id: 'tm-flextech-carry',
      brand: 'TaylorMade',
      model: 'FlexTech Carry',
      category: 'bag',
      year: 2024,
      msrp: 229.99,
      image_url: 'https://www.taylormadegolf.com/dw/image/v2/BFXJ_PRD/on/demandware.static/-/Sites-master-catalog/default/dw77889900/images/large/FlexTech-Carry-Bag.jpg'
    },
    {
      id: 'ping-hoofer-14',
      brand: 'PING',
      model: 'Hoofer 14',
      category: 'bag',
      year: 2024,
      msrp: 259.99,
      image_url: 'https://pingmediastage.azureedge.net/mediastorage/mediastorage/ping-na/medialibrary/bags/carry/hoofer-14.png'
    },
    {
      id: 'callaway-fairway-14',
      brand: 'Callaway',
      model: 'Fairway 14',
      category: 'bag',
      year: 2024,
      msrp: 279.99,
      image_url: 'https://www.callawaygolf.com/dw/image/v2/AAHA_PRD/on/demandware.static/-/Sites-master-catalog/default/dw88990011/images/large/bags-fairway-14.jpg'
    }
  ],
  tees: [
    {
      id: 'pride-pts',
      brand: 'Pride',
      model: 'Professional Tee System',
      category: 'tees',
      year: 2024,
      msrp: 9.99,
      image_url: 'https://www.pridegolf.com/media/catalog/product/p/t/pts-tees.jpg'
    },
    {
      id: 'zero-friction',
      brand: 'Zero Friction',
      model: 'Tour 3-Prong',
      category: 'tees',
      year: 2024,
      msrp: 7.99,
      image_url: 'https://www.zerofriction.com/media/catalog/product/t/o/tour-3-prong.jpg'
    },
    {
      id: 'champ-zarma',
      brand: 'Champ',
      model: 'Zarma FLYTee',
      category: 'tees',
      year: 2024,
      msrp: 8.99,
      image_url: 'https://www.champgolf.com/media/catalog/product/z/a/zarma-flytee.jpg'
    },
    {
      id: 'martini-tees',
      brand: 'Martini',
      model: '3.25" Durable Tees',
      category: 'tees',
      year: 2024,
      msrp: 6.99,
      image_url: 'https://www.martinitees.com/media/catalog/product/m/a/martini-tees.jpg'
    }
  ],
  speakers: [
    {
      id: 'bushnell-wingman',
      brand: 'Bushnell',
      model: 'Wingman GPS Speaker',
      category: 'speaker',
      year: 2024,
      msrp: 149.99,
      image_url: 'https://www.bushnellgolf.com/dw/image/v2/AALH_PRD/on/demandware.static/-/wingman-speaker.jpg'
    },
    {
      id: 'blue-tees-player',
      brand: 'Blue Tees',
      model: 'The Player Speaker',
      category: 'speaker',
      year: 2024,
      msrp: 99.99,
      image_url: 'https://www.blueteesgolf.com/media/catalog/product/p/l/player-speaker.jpg'
    },
    {
      id: 'jbl-clip-4',
      brand: 'JBL',
      model: 'Clip 4',
      category: 'speaker',
      year: 2024,
      msrp: 79.99,
      image_url: 'https://www.jbl.com/dw/image/v2/AAUJ_PRD/on/demandware.static/-/jbl-clip-4.jpg'
    },
    {
      id: 'ultimate-ears-boom',
      brand: 'Ultimate Ears',
      model: 'BOOM 3',
      category: 'speaker',
      year: 2024,
      msrp: 149.99,
      image_url: 'https://www.ultimateears.com/content/dam/ue/boom-3.jpg'
    }
  ],
  rangefinders: [
    {
      id: 'bushnell-pro-xe',
      brand: 'Bushnell',
      model: 'Pro XE',
      category: 'rangefinder',
      year: 2024,
      msrp: 549.99,
      image_url: 'https://www.bushnellgolf.com/dw/image/v2/AALH_PRD/on/demandware.static/-/pro-xe-rangefinder.jpg'
    },
    {
      id: 'garmin-z82',
      brand: 'Garmin',
      model: 'Approach Z82',
      category: 'rangefinder',
      year: 2024,
      msrp: 599.99,
      image_url: 'https://www.garmin.com/media/catalog/product/a/p/approach-z82.jpg'
    },
    {
      id: 'precision-pro-nx10',
      brand: 'Precision Pro',
      model: 'NX10',
      category: 'rangefinder',
      year: 2024,
      msrp: 279.99,
      image_url: 'https://www.precisionprogolf.com/media/catalog/product/n/x/nx10-rangefinder.jpg'
    },
    {
      id: 'nikon-coolshot',
      brand: 'Nikon',
      model: 'COOLSHOT Pro II',
      category: 'rangefinder',
      year: 2024,
      msrp: 449.99,
      image_url: 'https://www.nikon.com/products/sportoptics/lineup/rangefinder/coolshot-pro-ii.jpg'
    }
  ]
};

// Flatten all equipment into a single array for backward compatibility
export const realGolfEquipment = [
  ...equipmentDatabase.drivers,
  ...equipmentDatabase.mini_drivers,
  ...equipmentDatabase.fairway_woods,
  ...equipmentDatabase.hybrids,
  ...equipmentDatabase.irons,
  ...equipmentDatabase.wedges,
  ...equipmentDatabase.putters,
  ...equipmentDatabase.balls,
  ...equipmentDatabase.gloves,
  ...equipmentDatabase.bags,
  ...equipmentDatabase.tees,
  ...equipmentDatabase.speakers,
  ...equipmentDatabase.rangefinders
];

const parseRetailerData = (data) => {
  // Parse retailer API data and convert to our format
  try {
    return data.products?.map(item => ({
      id: item.id || `retailer-${Date.now()}-${Math.random()}`,
      brand: item.brand || 'Unknown',
      model: item.name || item.title || 'Unknown Model',
      category: item.category?.toLowerCase() || 'equipment',
      year: item.year || new Date().getFullYear(),
      msrp: parseFloat(item.price) || 0,
      image_url: item.image || item.imageUrl || '',
      specifications: item.specs || {}
    })).filter(item => item.image_url && item.brand !== 'Unknown') || [];
  } catch (error) {
    console.log('Error parsing retailer data:', error);
    return [];
  }
};

const fetchEquipmentData = async () => {
  // Start with our curated real equipment
  let equipment = [...realGolfEquipment];
  
  // Try to fetch additional data from golf retailers
  try {
    const corsProxy = 'https://api.allorigins.win/raw?url=';
    const endpoint = 'https://www.golfgalaxy.com/api/products/golf-clubs';
    
    const response = await fetch(corsProxy + encodeURIComponent(endpoint));
    if (response.ok) {
      const data = await response.json();
      // Add any valid equipment with images
      const additionalEquipment = parseRetailerData(data);
      equipment = [...equipment, ...additionalEquipment];
    }
  } catch (error) {
    console.log('Using curated equipment data');
  }
  
  return equipment;
};

export { fetchEquipmentData };